WEBVTT

NOTE
This file was generated by Descript <www.descript.com>

00:00:00.030 --> 00:00:02.100
on demand database anonymization.

00:00:02.880 --> 00:00:07.750
So this was a very big pain for
developers and testers when I

00:00:07.750 --> 00:00:09.340
entered the company a few years ago.

00:00:09.340 --> 00:00:16.990
So I always observed this process and the
process was automatic in a way that the

00:00:16.990 --> 00:00:23.935
database has have some scripts between
live database staging and development.

00:00:25.584 --> 00:00:31.584
And the script itself, there was
no AI back then decided by itself.

00:00:32.064 --> 00:00:36.655
When is the time to perform a
snapshot from the live database?

00:00:37.224 --> 00:00:40.899
Just erase everything on staging
and development and then replace

00:00:40.899 --> 00:00:41.999
with new data and everything.

00:00:41.999 --> 00:00:45.779
So this was very painful
because sometimes.

00:00:46.799 --> 00:00:50.699
People were just working on data, on
staging before committing to the live

00:00:50.699 --> 00:00:55.950
database, especially non-technical
workers that were working through

00:00:55.950 --> 00:00:59.850
the IMA admin interfaces on new data
and checking, testing, everything.

00:00:59.850 --> 00:01:03.780
So sometimes work was lost.

00:01:04.515 --> 00:01:05.085
At some point.

00:01:05.085 --> 00:01:09.075
So it was not that great and
the process was very painful.

00:01:09.435 --> 00:01:17.850
And a big problem was that they anonymized data with asterisks all over.

00:01:18.570 --> 00:01:25.920
So like you would have on a database,
a lot of data with first name, last

00:01:25.920 --> 00:01:32.024
name, IBAN, email, whatever the data,
sometimes you had a lot of asterisks on it.

00:01:34.205 --> 00:01:39.950
And the pain point for that is that
sometimes the testers were testing like a

00:01:39.950 --> 00:01:47.540
edit feature on a specific UI interface,
and they would submit their, the forms,

00:01:47.540 --> 00:01:49.730
and the forms wouldn't go forward.

00:01:51.050 --> 00:01:53.985
And the forms didn't show any
error on the screen because.

00:01:54.705 --> 00:02:01.895
A hidden field in that chaon object had
unsupported symbols for a specific field

00:02:02.165 --> 00:02:05.795
that was mapped in the object validation
in the front end or in the backend.

00:02:05.845 --> 00:02:13.065
Maybe and because of those
characteristics that were inserted at

00:02:13.065 --> 00:02:18.345
some point during the anonymization
of the database, things wouldn't

00:02:18.345 --> 00:02:20.264
work in the test staging environment.

00:02:20.314 --> 00:02:22.024
This was painful.

00:02:22.024 --> 00:02:28.345
Like sometimes people would lose one hour,
like just trying to figure out what to do,

00:02:28.345 --> 00:02:34.265
how to test properly a full workflow, a
more complex feature into the end-to-end

00:02:34.265 --> 00:02:37.240
test or the final front end test.

00:02:37.500 --> 00:02:43.540
Observing all this I proposed a
new solution for this process of

00:02:43.960 --> 00:02:50.680
anonymization, which was taking
advantage of the file that we have

00:02:50.680 --> 00:02:52.420
for backups in Google storage.

00:02:52.420 --> 00:02:52.480
So

00:02:53.480 --> 00:02:57.075
the process now is just almost,
okay, let, we have a button to

00:02:57.075 --> 00:03:01.005
press that says, okay, we need a new
database for staging and dev because.

00:03:02.490 --> 00:03:04.230
We need some new data.

00:03:04.230 --> 00:03:07.770
We need things that are, structures
that are on live data, that it's

00:03:07.920 --> 00:03:12.210
on the live database, that we
need it and it needed now to test.

00:03:12.840 --> 00:03:18.470
So a process was built on top of that
with the far to provision, the actual

00:03:18.770 --> 00:03:26.480
virtual machine that, that will act as
a database, which we chose not to have,

00:03:26.570 --> 00:03:29.900
cloud SQL on staging because of costs.

00:03:29.930 --> 00:03:35.510
So we have a vm, we have all the
setup to install my SQL in the same

00:03:35.510 --> 00:03:43.400
version in that VM and setup as it
is to be in parallel, to be equal

00:03:43.400 --> 00:03:45.350
to the live database that we have.

00:03:46.549 --> 00:03:53.320
And then we load the credentials
first actually into this sql to all

00:03:53.320 --> 00:03:57.310
the credentials that we have on the
staging environment remain the same.

00:03:58.090 --> 00:04:01.990
So developers will not lose access
once we switch the database.

00:04:02.830 --> 00:04:07.700
So we load the credentials, and then we
load the data from the live environment.

00:04:07.969 --> 00:04:14.000
So up to this point this VM is very
isolated in terms of connectivity.

00:04:14.000 --> 00:04:17.340
So there are firewall rules that.

00:04:17.730 --> 00:04:23.760
Do not allow external connection to this
VM because now it's a little bit critical

00:04:23.760 --> 00:04:30.790
because it has data that's from the live
environment and it has credentials that

00:04:30.790 --> 00:04:33.640
it, that are from the staging environment.

00:04:33.640 --> 00:04:36.435
So this VM is very
isolated for a few minutes.

00:04:38.380 --> 00:04:44.750
And then we just run the process
of anonymization, which is a more

00:04:44.810 --> 00:04:50.760
efficient masking process now, and
does not put asic or symbols that

00:04:50.789 --> 00:04:53.190
wouldn't work on a specific field.

00:04:53.490 --> 00:05:00.270
So every type of field is mapped to be a
valid field into our validation system,

00:05:01.080 --> 00:05:03.539
and we create general information.

00:05:04.995 --> 00:05:10.215
To every place where information is
sensitive, like emails, first name, last

00:05:10.215 --> 00:05:18.324
name, IBAN things that can't be leaked
and are not public addresses everything.

00:05:18.324 --> 00:05:24.504
So yeah, so we prepare this new VM
with the new database, and then we

00:05:24.509 --> 00:05:26.729
have a post process on that actually.

00:05:27.579 --> 00:05:34.479
Validates if all the data that
was correctly generalized or,

00:05:35.109 --> 00:05:37.289
and anonymized in some cases.

00:05:39.209 --> 00:05:43.319
After that, on, once the validation
is done, there is a automatic process

00:05:43.319 --> 00:05:47.669
and there is a actual human being
that can enter into the system and

00:05:48.149 --> 00:05:50.879
check a few points into the database.

00:05:51.974 --> 00:05:56.594
Then we apply firewall rules,
so this VM can be accessible by

00:05:56.594 --> 00:05:58.034
the developers and the testing.

00:05:59.085 --> 00:06:02.984
And after that, we stopped
the old VM for a while.

00:06:03.405 --> 00:06:08.804
We take that same IP that the VM
was using attached to the new vm.

00:06:08.859 --> 00:06:14.169
People don't have to change, like where
they are pointing to the staging database.

00:06:15.159 --> 00:06:17.829
And then we just reboot everything.

00:06:17.829 --> 00:06:21.579
So systems start fresh and
connect to the new database.

00:06:22.179 --> 00:06:28.400
The old VM is stopped now
and can be started again.

00:06:28.430 --> 00:06:34.360
If someone needs to work on that
data to extract any information or.

00:06:34.810 --> 00:06:41.980
To recover some work they were doing so
we can always do some backup recovery and

00:06:42.190 --> 00:06:46.380
transfer that to the new database that
we are having now on stage environment.

