WEBVTT

NOTE
This file was generated by Descript <www.descript.com>

00:00:00.050 --> 00:00:02.360
API six API gateway.

00:00:02.600 --> 00:00:07.970
So in this project the big issue and
the big pain point was that Google

00:00:07.970 --> 00:00:13.800
cloud Armor, which is actually really
good is very expensive if you want

00:00:13.800 --> 00:00:15.719
to go enterprise or even premium.

00:00:15.930 --> 00:00:20.940
So we have currently the basic
protection, the free tier.

00:00:21.270 --> 00:00:25.470
It has a few features
regarding WAF, DDoS, and

00:00:26.264 --> 00:00:30.994
In some aspects that you can customize
some specific rules to be protected

00:00:30.994 --> 00:00:32.614
by mass attacks and everything.

00:00:32.664 --> 00:00:33.774
But it wasn't enough.

00:00:34.464 --> 00:00:40.824
And with the rise of AI
agents being able to somehow.

00:00:41.348 --> 00:00:46.198
Scan your system, try to perform
some credentials, extraction and

00:00:46.198 --> 00:00:47.428
everything from your service.

00:00:47.428 --> 00:00:49.228
We started to get a concerned about that.

00:00:49.228 --> 00:00:55.558
And the solution that I proposed and
implemented was to have another API

00:00:55.558 --> 00:01:02.578
gateway that would sit behind the global
load balancing that we use from Google.

00:01:02.628 --> 00:01:05.898
The global load balancing
receives the requests.

00:01:05.898 --> 00:01:07.668
It has some kind of protection.

00:01:07.878 --> 00:01:11.288
And then before going to our service,
before going to the backend

00:01:11.288 --> 00:01:16.258
service, the network endpoint groups,
it goes through this API gateway.

00:01:17.188 --> 00:01:21.958
The API gateway in this situation
uses Apache API six and crowds

00:01:21.958 --> 00:01:24.688
SEC for threat intelligence.

00:01:24.788 --> 00:01:26.993
CrowdSec is really great.

00:01:27.353 --> 00:01:34.003
It has a lot of data about known attackers
and patterns that can like, inform you in

00:01:34.003 --> 00:01:39.603
real time into the dashboard if you are
already receiving an attack or anything.

00:01:39.763 --> 00:01:41.123
So it's really great.

00:01:41.123 --> 00:01:43.623
It's community driven we
are really happy with that.

00:01:44.043 --> 00:01:50.073
So by far we transferred some services
to use this API gateway, and we are

00:01:50.073 --> 00:01:57.003
able to actually do one by one, so we
don't have to just switch on or off the

00:01:57.003 --> 00:01:58.983
entire system to use this overnight.

00:01:59.283 --> 00:02:05.043
And then we can monitor and observe
if the final user has some issues.

00:02:05.093 --> 00:02:09.803
If we have some false positives
into this whole workflow that would

00:02:09.853 --> 00:02:11.963
block real users to use the system.

00:02:12.893 --> 00:02:15.133
So it was a very elegant solution.

00:02:16.123 --> 00:02:23.038
The system is extremely fast and runs
over a managed instance group without

00:02:23.038 --> 00:02:27.588
the auto scale if necessary, but
I don't remember needing more than

00:02:27.588 --> 00:02:29.928
one machine to actually handle this.

00:02:30.468 --> 00:02:34.188
It can handle a 100 K requests by second.

00:02:34.248 --> 00:02:36.888
It's a really fast system.

00:02:37.368 --> 00:02:38.418
Yeah, I guess that's it.

00:02:39.468 --> 00:02:46.331
It's a very good architecture and
saves a very good amount of money for

00:02:46.421 --> 00:02:51.311
almost the same results as the premium
or enterprise from Google Cloud Armor.

